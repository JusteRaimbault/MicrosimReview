\input{header.tex}
\begin{document}

%%% Start of article front matter
\begin{frontmatter}

\begin{fmbox}
\dochead{Research}

\title{Citation network analysis of urban modeling research}

\author[
   addressref={aff1,aff2,aff3},                   % id's of addresses, e.g. {aff1,aff2}
   corref={aff1},                       % id of corresponding address, if any
   %noteref={n1},                        % id's of article notes, if any
   email={juste.raimbault@polytechnique.edu}   % email address
]{\inits{JR}\fnm{Juste} \snm{Raimbault}}
\author[
   addressref={aff2},
   email={m.vanhoof@ucl.ac.uk}
]{\inits{MV}\fnm{Maarten} \snm{Vanhoof}}
\author[
   addressref={aff2},
   email={m.batty@ucl.ac.uk}
]{\inits{MB}\fnm{Michael} \snm{Batty}}


\address[id=aff1]{%                           % unique id
  \orgname{UPS CNRS 3611 ISC-PIF}, % university, etc
  %\street{113 rue Nationale},                     %
  %\postcode{75013}                                % post or zip code
  \city{Paris},                              % city
  \cny{France}                                    % country
}
\address[id=aff2]{%
  \orgname{CASA, UCL},
  %\street{},
  %\postcode{}
  \city{London},
  \cny{UK}
}
\address[id=aff3]{%
  \orgname{UMR CNRS 8504 G{\'e}ographie-cit{\'e}s},
  %\street{},
  %\postcode{}
  \city{Paris},
  \cny{France}
}

\begin{artnotes}
%\note{Sample of title note}     % note to the article
%\note[id=n1]{Equal contributor} % note, connected to author
\end{artnotes}

\end{fmbox}% comment this for two column layout

\begin{abstractbox}

\begin{abstract} % abstract
%\parttitle{First part title} %if any
Several modeling approaches to the evolution of urban and territorial environments have been introduced in the literature, providing complementary viewpoints and methods. This paper contributes to the mapping of this scientific landscape by a citation network analysis. Taking the case study of two landmark types of operational models, namely microsimulation models and land-use transport interaction model, we construct an initial corpus through keyword requests. The backward citation network is then reconstructed up to depth two, yielding a network with $4.54\cdot 10^5$ nodes and $8.07\cdot 10^5$ citation links. Community detection in the network provides endogenous disciplines and approaches, including a broader scope than the initial corpus, with for example spatial statistics and agent-based modeling. We construct measures of interdisciplinarity to identify bridge papers, and investigate possible missing connections. We illustrate these more particularly with the interface of microsimulation, agent-based modeling and land-use transport models, and discuss potential coupling of models filling this gap. We show therein how potential research directions can be unveiled through citation network analysis and provide partial maps of science in the field of urban modeling, which can be used by researchers and practitioners to better contextualize their modeling approaches.
\end{abstract}

\begin{keyword}
\kwd{citation network}
\kwd{interdisciplinarity}
\kwd{urban modeling}
\kwd{land-use transport interaction models}
\kwd{microsimulation models}
\end{keyword}


\end{abstractbox}
%
%\end{fmbox}% uncomment this for twcolumn layout

\end{frontmatter}

https://doi.org/10.1140/epjds/s13688-019-0205-9


\cite{krafft2019what}: no filter bubble effect in practice


%%%%%%%%%%%%%%%%%%%%%%
\section*{Introduction}

Urban modeling, defined broadly as quantitative modeling and simulation aiming at understanding urban processes, has always been a highly multidisciplinary and interdisciplinary subject \cite{ramadier2004transdisciplinarity}. Indeed, several disciplines ranging from Urban Economics~\cite{krugman1998s} to Quantitative Urban Geography~\cite{pumain2017geography} or Urban Planning~\cite{knowles2016sir} provide complementary viewpoints by studying different dimensions of urban phenomena. Despite sometimes converging issues, bridges remain rather rare, such as integrating approaches such as the Science of Cities introduced by \cite{batty2013new}. One crucial question in that context is to what extent these different approaches to modeling urban issues may be complementary, and what may the potentially fertile couplings in terms of producing new knowledge. Indeed, a good knowledge of the scientific landscape, or in other terms a certain level of reflexivity, is crucial for urban modeling studies since as \cite{batty2019map} points out, models become digital twins of modelled systems which themselves play a role in the studied system.


While problem-specific entries, i.e. studying a specific system and correspondences between some of its models, will shed light on thematic aspects of this question, one can also consider the knowledge landscape in itself to identify existing approaches and potential links. This paper investigates urban modeling at this second level, and proposes to build a mapping of some approaches in urban modeling through citation network analysis. Quantitative studies of science have a long history such as in sociology of science~\cite{barnes1982science}, but recent works have witnessed significant progress driven by the emergence of large dataset and digital libraries. Maps of science have been constructed \cite{boyack2005mapping} and a ``Science of Science'' would be appearing as an interdisciplinary field~\cite{fortunato2018science}. We situate here within that stream of research, using network analysis to better understand the structure of knowledge around the topic of urban modeling.


Citation network has to the best of our knowledge never been systematically applied to the subject of urban modeling, in the sense of a broad and general coverage and large dataset. Specific urban issues were however studied through citation network analysis. \cite{van2016pacifying} map the debate around urban region polycentricity. \cite{raimbault2019exploration} develops a multilayer analysis, coupling citations with semantic content, of the neighborhood of a geography journal, including clusters tackling urban questions.

%\cite{giatsidis2019rooted} propose  new measures based on subgraph density for citation networks

We construct a large corpus of papers, linked through backward citations.
Our contribution relies on the following points: (i) the open dataset we make available can be of significant interest for researcher interested in urban modeling; (ii) we map a broad part of approaches to urban modeling, and more particularly clarify the relations between microsimulation, land-use transport modeling, and agent-based modeling.
% (i) sensitivity analysis - info to reconstruct discipline with such empirical data ?
% (ii) some methodological insights depending on what we do ?
% (iii) results on urban modeling in themselves <- Maybe insist only on that ?


The rest of the paper is organized as follows. We first describe the construction of the dataset, i.e. the initial assumptions and data collection process, and the filtering steps to work on a relevant network. We then study its sensitivity to construction parameters, what allows to comment on endogenous disciplines and study the evolution of communities in time. We finally discuss the implication of these results, for example in the context of coupling approaches.


%%%%%%%%%%%%%%%%%%%%%%
\section*{Dataset construction}

\subsection*{Initial seed}

We propose a multiple keyword entry to build a broad corpus, on complementary but distinct approaches. This will ensure first that the collected data is representative due to the corpus size limitations, but secondly that potential couplings are included. % REFORMULATE

The initial keyword requests we use are the following: ``microsimulation'', ``microsimulation model'', ``spatial microsimulation model'', ``urban microsimulation model'', ``transport microsimulation model'', ``land use transport interaction model''.


Our corpus is surely not exhaustive to urban modeling as we focused on the aforementioned two main entries, and other requests such as ``urban geosimulation'', ``urban growth model'', ``urban agent based model'' would also be relevant. We expect for example, following \cite{wise2016transportation}, to have a strong overlap with our corpus and a potential corpus related to agent-based modeling. Similarly, other sub-fields of urban modeling such as cellular automata \cite{white1993cellular} or geosimulation \cite{benenson2004geosimulation} are expected to be highly intertwined with our corpus from a thematic viewpoint. To what extent these are indeed present in the corpus is an important property we will investigate.
%urban agent based model, spatial interaction model, spatial interaction agent based model, geosimulation, urban geosimulation, urban cellular automata, urban growth model, urban land use change model, urban land use model

classif of urban models \cite{batty2016classifying}

\subsection*{Citation network collection}


To collect bibliographic data, we follow the method introduced by \cite{raimbault2019exploration} which gathers a corpus from google scholar, and provide the open tools to do so. This source is not the best regarding metadata quality for example, but is much more exhaustive on grey literature or preprints and thus reflects the actual state of a field as it is practiced rather than a filtered and lagged in time image of it.
% remark : for some discplines / domains, this should be significantly important - I'm thinking of physics with preprints or computer science which publishes mostly in proceedings.


% TODO here introduce the horizontal depth parameter
The initial keyword requests are achieved given a parameter $h_d$ (horizontal depth), corresponding to the number of papers kept for each request. Intuitively, one could expect to retain core papers to the subject for low $h_d$ values while covering broader landscapes for high values. This will be studied with a sensitivity analysis below.


%%%%%
% full network
%IGRAPH 9ceae4d DN-- 467608 834253 -- 
%+ attr: name (v/c), title (v/c), year (v/c), depth (v/n), priority (v/n), horizontalDepth (v/c), citingFilled (v/c), lang (v/c)


The full network has a count of $\left|V\right|= 467,608$ nodes and $\left|E\right|=834,253$ citation links. 


\subsection*{Network filtering}

Language statistics (detected using titles). We do not include in our analysis any semantic analysis and thus do not filter on language of papers. Note that as we work on citation networks, cross-language citations are a common feature and different languages will not produce isolated clusters. In any case, a language detection with the python package \texttt{polyglot} confirms that most of the corpus is in English (86.6\%), secondary main language being Mandarin (4.7\%), Spanish (1.8\%), German (1.6\%), French (1.2\%) and Portuguese (1.2\%).
% possible additional analysis by isolating language subnetworks - checking modularity of language communities ?. Typically: Chinese article are only cited by other Chinese articles. similar but less strong effect with French

%     Czech    Swedish   Galician      Dutch Indonesian    Turkish   
% 0.1129035  0.1259161  0.1274470  0.1672503  0.1693553  0.2309738  
% Italian    Russian     Korean     Polish 
%0.3155558  0.3832979  0.3987982  0.4384102 
%  Japanese Portuguese     French     German    Spanish  
% 0.4720899  1.2195495  1.2339017  1.6231318  1.7783263 
% Chinese    English 
%4.6506688 86.5524236



% components(citation)$csize
% 466610    517      5    246     53     57      6     58      3     10      7      5      7     15      3      2     2      2
%  2nd comp 517 -> breast cancer ! (should come from "microsimulation" req alone
% 4th component : agriculture / soils

We keep the giant connected cluster of the resulting network, which covers 99.8\% of all nodes.
%(yielding at this step $\left|V\right| = 466,610$ nodes).
 Inspection of removed clusters confirms that these are not relevant to urban issues (medical or chemistry microsimulations for example). Because of the way citation networks are organized and how our dataset was constructed, the full network contains a large part of ``graps'' which consist in several uncited papers citing the same one. We choose thus to work on the ``core'' of the network, which we construct by successively removing nodes of degree less or equal to one until there are no more such nodes. We finally remove manually two communities corresponding to medical science and economics of taxes papers, which appear to be connected (most probably through methodological papers) but are not relevant for our study. The final filtered network, on which we will work in the following, has a size of % TODO
  .


%%%%%%%%%%%%%%%%%%%%%%
\section*{Mapping the scientific landscape}

\subsection*{Sensitivity analysis}

\cite{MartinMartin2016} problems with scholar, thus need this sensitivity analysis

% check modularity = f(horizontal and vertical depth) : insight into the relevant number of initially requested papers ; Sensitivity of 'width' of paper. Width=the amount of hits in google scholar we use ; Sensitivity of the used key words => all in same analysis

Before being able to proceed to any thematically relevant network analysis, a sensitivity analysis of network properties as a function of construction parameters is necessary. More particularly, the results may be strongly dependent on the number of search results retained and on the requests used. This preliminary aims at checking this dependency and extract the most robust subnetwork possible for the rest of the analysis.

We first investigate how network topology varies as a function of horizontal depth.


%%%%%%%%
\begin{figure}
    \centering
    \includegraphics[width=\linewidth]{figures/sensitivity_fullnw_hdmax100_subnws_modularity.png}
    \caption{\csentence{Modularity of subnetworks as a function of horizontal depth.}}
    \label{fig:modularity-hdepth}
\end{figure}
%%%%%%%%


We then assess that a certain level of overlap exists between the sub-networks originating from different initial requests. As shown in Fig.~\ref{fig:coverage-hdepth}

%%%%%%%%
\begin{figure}
    \centering
    \includegraphics[width=0.52\linewidth]{figures/coveragesubnws.png}
    \includegraphics[width=0.38\linewidth]{figures/pareto_vcount-modularity.png}
    \caption{(\textit{Left}) Relative coverage of sub-networks for each initial request, as a function of horizontal depth $h_d$; (\textit{Right}) Optimization of network properties.}
    \label{fig:coverage-hdepth}
\end{figure}
%%%%%%%%

%%%%
%\begin{figure}
%    \centering
%    \includegraphics[width=\linewidth]{figures/overlaps_relative.png}
%    \caption{Overlaps between subnetworks, for different horizontal depth values.}
%\end{figure}



\subsection*{Reconstructing endogenous disciplines}


% cluster sizes
The distribution of community size is fat-tailed, while however not being power-law distributed (presence of two regimes, a first with communities with a size larger than 1\% of the network relatively balanced with a rank-size slope of -0.73 for an R-squared of 0.89, a second also relatively close to a power law with a fit of 0.76 but highly hierarchical with $\alpha = -1.5$ and negligible in any case).
% TODO reformulate that shit



%% largest communities (>1% of the network)
%[1] "35 ; Urban growth modeling ; 11.1269367053429"
%[1] "11 ; Built environment ; 10.0326547627319"%
%[1] "31 ; Urban modeling/Luti ; 9.25102480372403"
%[1] "17 ; Transportation microsimulation ; 7.41679983325228"
%[1] "36 ; Complexity ; 5.75279649829778"
%[1] "2 ; Pedestrian microsimulation ; 5.00590564857917"
%[1] "16 ; Geosimulation ; 5.00243173765025"
%[1] "1 ; Evacuation modeling ; 4.90168832071146"
%[1] "34 ; Accessibility ; 4.73494059612312"
%[1] "25 ; Population microsimulation ; 4.70020148683388"
%[1] "10 ; Energy ; 3.44959355242132"
%[1] "22 ; Congestion ; 3.30021538247759"
%[1] "4 ; Logistics simulation ; 3.09525463767109"
%[1] "27 ; Route choice ; 2.66101577155562"
%[1] "28 ; Transportation physics ; 2.4247898283888"%
%[1] "18 ; Transportation economics ; 2.36920725352602"
%[1] "24 ; Spatial interactions ; 2.29625512401862"
%[1] "20 ; Urban metabolism ; 1.87591190161884"
%[1] "9 ; Critical infrastructures ; 1.62231640380741"
%[1] "19 ; Social networks ; 1.60147293823386"
%[1] "6 ; Demographics ; 1.43472521364552"
%[1] "7 ; Mobility simulation ; 1.33050788577781"

We describe in Table~\ref{tab:communities} the content of the largest communities (relative size larger than 2\% of network nodes). Several communities correspond to microsimulation approaches, but not most nor the largest. This is not due to an imbalance in subnetworks sizes, as the coverage graph in Fig.~\ref{fig:coverage-hdepth} already suggested. This confirms that urban modeling approaches considered are rather robust to the entry taken and that they form a broad consistent discipline. The largest community corresponds to urban cellular automata models, mostly applied to land-use change modeling and urban sprawl. This class of models is computational and very close to microsimulation indeed, but does not state so in semantic terms, what recalls the contingency of scientific descriptions and theories. We then find mostly expected (from an expert viewpoint % TODO Mike need your view on this
) communities, including modeling the role on the built environment, urban modeling and land-use transport models, transport microsimulation models, complex urban science, and several either methodological or thematic domains (for example geosimulation and transportation economics are mostly disciplinary or methodological, while congestion, energy and logistics are defined by their object of study although they have been studied mostly by a single discipline.
% largest is ca model - kind of microsim although they do not use the term
% TODO IDEA : would it be possible to **endogenously** isolate these method/social/disci/thematic communities ? => USING HIGHER ORDER INFO INCLUDING : coauthorshiups nws, semantic nws, cojournal / journal proximities , colab ; etc. ==> multilayer approach could more effectively capture knowledge domains - multidimensional aspects of science.
%The existence of clusters related to different tools or techniques (e.g. Matsim)


%%%%%%%%%%%%%
\begin{table}[h!]
\caption{Description of main communities.\label{tab:communities}}
% NOTE : for main papers, always taken among the two with largest in-degree [note done on purpose that so much Mike's papers !]
      \begin{tabular}{|ccc|}
        \hline
        Community & Relative size (\%)  & Main papers   \\ \hline
        Urban growth modeling & 11.1 & \cite{cheng2003urban} \cite{johnson2001environmental} \\
        Built environment & 10.0 & \cite{ewing2010travel}  \\
        Urban modeling/Luti & 9.3 & \cite{wegener2004overview} \cite{batty1976urban} \\
        Transportation microsimulation & 7.4 & \cite{smith1995transims} \\
        Complexity & 5.8 & \cite{batty2013new} \\
        Pedestrian microsimulation & 5.0 & \cite{blue2001cellular} \\
        Geosimulation & 5.0 & \cite{crooks2008key} \\
        Evacuation modeling & 4.9 & \cite{cova2003network} \\
        Accessibility & 4.7 & \cite{rodrigue2016geography} \\
        Population microsimulation & 4.7 & \cite{beckman1996creating} \\
        Energy & 3.4 & \cite{keirstead2012review} \\
        Congestion & 3.3 & \cite{gomes2004congested} \\
        Logistics microsimulation & 3.1 & \cite{hunt2007tour} \\
        Route choice & 2.6 & \cite{ramming2001network} \\
        Transportation physics & 2.4 & \cite{chowdhury2000statistical} \\
        Transportation economics & 2.4 & \cite{small2007economics} \\
        Spatial interactions & 2.3 & \cite{fotheringham1983new} \\\hline
      \end{tabular}
\end{table}
%%%%%%%%%%%%%



We show in Fig.~\ref{fig:networkviz} a visualization of the network obtained with $h_d=3$. The relative positioning of communities is particularly interesting to understand proximities between subfields (we used a Force Atlas 2 network spatialization algorithm, which provide accurate information in terms of proximity although being not deterministic, since attraction forces betweem two communities will be shaped by the number of links between them). For this reason, it is natural to find at the core of the spatialized network the Luti, population and transportation microsimulation communities. 
% TODO check if complexity community is indeed merged with the CA one in the gephi community detection ; otherwise maybe change color as misleading.
The complexity community is distributed as a glue between microsimulation approaches and urban modeling and Luti approaches, in accordance with the integrative ambition of these theories and models. Similarly, the transport geography (accessibility) community has its main papers at the interface between Luti and the built environment community. The network core is then surrounded by more or less peripheral communities, including statistical physics pedestrian models, urban energy models, logistics, transportation economics, congestion.
% rq : in theory, the span/concentration of communities also means something : if they are highly self-citing, and is they are torn in different directions ( -> is this true indeed ? )


%%%%%%%%
\begin{figure}
    \centering
    \includegraphics[width=\linewidth]{figures/corehdepth3filteredLOWRES.png}
    \caption{\csentence{Core citation network visualization.} We show here the filtered core obtained for $h_d = 3$. Node color give community obtained with the Louvain algorithm. The network is spatialized using a Force atlas 2 algorithm, with the Gephi visualization software.}
    \label{fig:networkviz}
\end{figure}
%%%%%%%%s


% proximity between communities (relative proportion of links)

We compute the proximity between communities using a simple indicator, namely the proportion of out-citation links made outside the community.


%%%%%%%%%%%
\begin{figure}
	\centering
	\includegraphics[width=\linewidth]{figures/com_intercit_proportion.png}
	\caption{\csentence{Proximity matrix between communities.} We show the propostion of out-going links (note that the matrix is not symmetric as citation links are directed).}
	\label{fig:outcitprop}
\end{figure}
%%%%%%%%%%%




%Measuring interdisciplinarity

% -> distrib of interdisc index as diversity of citations (herfindhal on outcoming links \!/ check if significant as the network was not constructed this way [implies to be able to quantify this]








\subsubsection*{A case study: LUTI, microsimulation and agent-based modeling}

% specific viz including 4 "core thematic clusters" -> abm, microsim, luti + complex systems (glue ?) [no transport abm : microsim]
% - one hypothesis (seen in temporal analysis) : complex system/complex network approaches as linking prviously less related approaches ?



\subsection*{Temporal analysis of communities}
% Investigate the temporality of the nodes and links % TODO Maarten

% Percolation of links based on frequency of citations or maybe on time also -> is percolation useful at this point ?
 







%%%%%%%%%%%%%%%%%%%%%%
\section*{Discussion}

% possible developments:
% with semantic content : 
% Investigate the occurrence of some terms and their membership towards different clusters -> semantic ; as development ?
%Text mining of abstracts to automatically denote -content- of the clusters\
% Investigate the location of certain authors\\
% Investigate the propagation of some of the most important works\\
% Investigate the content of 'connecting' papers

%Can we reconstruct the cluster based on iterative search terms in google scholar? -- see where the convergence point is for certain terms
% . - index a large corpus with texts ; test different search algos ; investigate "semantic stability" of communities [cf sysalgoreview]

% TODO : possible subject for Tongji workshop (search chinese kws)



%%%%%%%%%%%%%%%%%%%%%%
\section*{Conclusion}




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                          %%
%% Backmatter begins here                   %%
%%                                          %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{backmatter}

%\section*{Competing interests}
%  The authors declare that they have no competing interests.

%\section*{Author's contributions}
%    Text for this section \ldots

%\section*{Acknowledgements}
%  Text for this section \ldots
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                  The Bibliography                       %%
%%                                                         %%
%%  Bmc_mathpys.bst  will be used to                       %%
%%  create a .BBL file for submission.                     %%
%%  After submission of the .TEX file,                     %%
%%  you will be prompted to submit your .BBL file.         %%
%%                                                         %%
%%                                                         %%
%%  Note that the displayed Bibliography will not          %%
%%  necessarily be rendered by Latex exactly as specified  %%
%%  in the online Instructions for Authors.                %%
%%                                                         %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% if your bibliography is in bibtex format, use those commands:
\bibliographystyle{bmc-mathphys} % Style BST file (bmc-mathphys, vancouver, spbasic).
\bibliography{biblio}      % Bibliography file (usually '*.bib' )
% for author-year bibliography (bmc-mathphys or spbasic)
% a) write to bib file (bmc-mathphys only)
% @settings{label, options="nameyear"}
% b) uncomment next line
%\nocite{label}

% or include bibliography directly:
% \begin{thebibliography}
% \bibitem{b1}
% \end{thebibliography}




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                               %%
%% Figures                       %%
%%                               %%
%% NB: this is for captions and  %%
%% Titles. All graphics must be  %%
%% submitted separately and NOT  %%
%% included in the Tex document  %%
%%                               %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%
%% Do not use \listoffigures as most will included as separate files

%  \begin{figure}[h!]
%  \caption{\csentence{Sample figure title.}
%      A short description of the figure content
%      should go here.}
%      \end{figure}

%\begin{figure}[h!]
%  \caption{\csentence{Sample figure title.}
%      Figure legend text.}
%      \end{figure}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                               %%
%% Tables                        %%
%%                               %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%\begin{table}[h!]
%\caption{Sample table title. This is where the description of the table should go.}
%      \begin{tabular}{cccc}
%        \hline
%           & B1  &B2   & B3\\ \hline
%        A1 & 0.1 & 0.2 & 0.3\\
%        A2 & ... & ..  & .\\
%        A3 & ..  & .   & .\\ \hline
%      \end{tabular}
%\end{table}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                               %%
%% Additional Files              %%
%%                               %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%\section*{Additional Files}
%  \subsection*{Additional file 1 --- Sample additional file title}
%    Additional file descriptions text (including details of how to   view the file, if it is in a non-standard format or the file extension).  This might   refer to a multi-page table or a figure.
% \subsection*{Additional file 2 --- Sample additional file title}
%    Additional file descriptions text.


\end{backmatter}
\end{document}



